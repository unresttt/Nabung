<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Aplikasi Tabungan</title>

  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-192.png" sizes="192x192">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main id="app">
    <header class="app-header">
      <div class="logo">ğŸ’°</div>
      <h1>Aplikasi Tabungan</h1>
    </header>

    <!-- Tabs wrapper -->
    <div id="tabs-wrapper">
      <div id="tabs" class="tabs-inner">
        <!-- Tab 1: Targets -->
        <section class="tab" id="tab-targets" aria-label="Targets">
          <h2>ğŸ¯ Daftar Target Tabungan</h2>
          <button id="btn-add-target" class="btn green">+ Tambah Target</button>
          <div id="targets-list" class="card-list"></div>
        </section>

        <!-- Tab 2: Meet & Penalty -->
        <section class="tab" id="tab-meet" aria-label="Meet and Penalty">
          <h2>ğŸ¤ Tabungan Tiap Ketemu & âš ï¸ Denda</h2>

          <div class="card">
            <h3>Tabungan Tiap Ketemu</h3>
            <p class="amount" id="meet-amount">Rp 0</p>
            <div class="controls">
              <button id="meet-add" class="btn blue">Tabung +</button>
              <button id="meet-reset" class="btn red">Reset</button>
            </div>
          </div>

          <div class="divider"></div>

          <div class="card">
            <h3>Denda</h3>
            <p class="amount" id="penalty-amount">Rp 0</p>
            <div class="controls">
              <button id="penalty-add" class="btn blue">Tabung +</button>
              <button id="penalty-reset" class="btn red">Reset</button>
            </div>
          </div>
        </section>

        <!-- Tab 3: Total -->
        <section class="tab" id="tab-total" aria-label="Total">
          <h2>ğŸ’µ Total Keseluruhan</h2>
          <div class="big-card">
            <p class="big-amount" id="total-amount">Rp 0</p>
            <p class="muted">Total gabungan semua tabungan, target, dan denda</p>
          </div>
        </section>

        <!-- Tab 4: History -->
        <section class="tab" id="tab-history" aria-label="History">
          <h2>ğŸ“œ Riwayat Transaksi</h2>
          <ul id="transactions-list" class="tx-list"></ul>
          <button id="clear-history" class="btn red">Hapus Riwayat</button>
        </section>
      </div>
    </div>

    <!-- Dots (nav) -->
    <nav id="dots" class="dots" aria-hidden="false"></nav>

    <!-- Modal Target -->
    <div id="modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-card">
        <h3 id="modal-title">Tambah Target</h3>
        <input id="target-name" placeholder="Nama target" />
        <input id="target-amount" placeholder="Nominal target" inputmode="numeric" />
        <div class="modal-actions">
          <button id="modal-cancel" class="btn muted">Batal</button>
          <button id="modal-save" class="btn green">Simpan</button>
        </div>
      </div>
    </div>

    <button id="toggle-theme" class="fab" aria-label="Toggle theme">ğŸŒ™</button>
  </main>

  <!-- Firebase compat SDKs (we use compat because code uses legacy-style) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <!-- App (legacy) -->
  <script src="app-legacy.js"></script>
</body>
</html>
