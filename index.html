<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aplikasi Tabungan</title>

  <!-- Theme & Manifest -->
  <meta name="theme-color" content="#111111">
  <link rel="manifest" href="manifest.json">

  <!-- Style -->
  <link rel="stylesheet" href="style.css">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <!-- Register Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(() => console.log("âœ… Service Worker registered"))
          .catch(err => console.log("SW failed:", err));
      });
    }
  </script>
</head>

<body>
  <header class="app-header">
    <h1>ğŸ’° Aplikasi Tabungan</h1>
  </header>

  <main id="tabsContainer" class="tabs-container">
    <!-- TAB 1: Daftar Target -->
    <section class="tab-page active">
      <h2>ğŸ¯ Daftar Target Tabungan</h2>
      <button id="addTargetBtn" class="btn green">+ Tambah Target</button>
      <div id="targetsList" class="card-list"></div>
    </section>

    <!-- TAB 2: Tabungan Tiap Ketemu & Denda -->
    <section class="tab-page">
      <h2>ğŸ¤ Tabungan Tiap Ketemu & âš ï¸ Denda</h2>
      <div class="card">
        <div class="section">
          <h3>Tabungan Tiap Ketemu</h3>
          <p id="meetAmountLabel">Rp 5.000</p>
          <div class="btn-row">
            <button id="meetSaveBtn" class="btn blue">Tabung +</button>
            <button id="resetMeetBtn" class="btn red">Reset</button>
          </div>
        </div>
        <hr>
        <div class="section">
          <h3>Denda</h3>
          <p id="fineAmountLabel">Rp 50.000</p>
          <div class="btn-row">
            <button id="fineSaveBtn" class="btn blue">Tabung +</button>
            <button id="resetFineBtn" class="btn red">Reset</button>
          </div>
        </div>
      </div>
    </section>

    <!-- TAB 3: Total -->
    <section class="tab-page">
      <h2>ğŸ’µ Total Keseluruhan</h2>
      <div class="card big">
        <div id="totalAmount" class="big-number">Rp 0</div>
        <div class="muted">Total gabungan semua tabungan, target, dan denda</div>
      </div>
    </section>

    <!-- TAB 4: Riwayat -->
    <section class="tab-page">
      <h2>ğŸ§¾ Riwayat Transaksi</h2>
      <ul id="historyList" class="history"></ul>
      <button id="clearHistoryBtn" class="btn red">Hapus Semua Riwayat</button>
    </section>
  </main>

  <!-- Dots navigation -->
  <nav id="dots" class="tab-dots"></nav>

  <!-- Tombol mode terang/gelap -->
  <button id="themeToggle" class="theme-toggle">ğŸŒ™</button>

  <!-- Script utama -->
  <script src="app.js"></script>
</body>
</html>
